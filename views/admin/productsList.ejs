<!DOCTYPE HTML>
<html lang="en">


<head>
    <meta charset="utf-8">
    <title>Products</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">

    <link rel="shortcut icon" type="image/x-icon" href="admin-assets/imgs/icons/fotor-20240806223213.png">
    <!-- Template CSS -->
    <link href="admin-assets/css/main.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <div class="screen-overlay"></div>
    <%- include('./partials/adminAside.ejs') %>
    <main class="main-wrap">
        <%- include('./partials/adminNav.ejs') %>
 
        <section class="content-main">
            <div class="content-header">
                <div>
                    <h2 class="content-title card-title">Products</h2>
                    <p></p>
                </div>
                <div>
                
                    <a href="/admin/productAdd" class="btn btn-primary btn-sm rounded">Create new Product</a>
                </div>
            </div>
            <!-- <header class="card card-body mb-4">
                <div class="row gx-3">
                    <div class="col-lg-4 col-md-6 me-auto">
                        <input type="text" placeholder="Search..." class="form-control">
                    </div>
                    
                </div>
            </header>  -->
            <!-- card-header end// -->
            <div class="row">
                <% if (locals.products) { %>
                    <% for (let i = 0; i < products.length; i++) { %>
                        <div class="col-xl-3 col-lg-4 col-md-6">
                            <div class="card card-product-grid">
                                <a href="#" class="img-wrap">
                                    <img src="../<%= products[i].images[0] %>" alt="Product">
                                </a>
                                <div class="info-wrap">
                                    <div class="btn-group-vertical float-end" role="group">
                                        <a href="/admin/editProducts?id=<%= products[i]._id %>" class="btn btn-sm btn-brand rounded mb-2">
                                            <i class="material-icons md-edit mr-5"></i>Edit
                                        </a>
                                        <!-- Block/Unblock Buttons -->
                                        <% if (products[i].is_active) { %>
                                            <a class="btn btn-sm btn-danger mb-2 block-unblock"
                                               href="/admin/productBlock?id=<%= products[i]._id %>">
                                                Block
                                            </a>
                                        <% } else { %>
                                            <a class="btn btn-sm btn-success mb-2 block-unblock"
                                               href="/admin/productUnblock?id=<%= products[i]._id %>">
                                                Unblock
                                            </a>
                                        <% } %>
                                        <!-- Delete Button (without AJAX) -->
                                        <form method="post" action="/admin/deleteProduct">
                                            <!-- <input type="hidden" name="id" value="<%= products[i]._id %>">
                                            <button type="submit" class="btn btn-sm btn-danger mb-2">Delete</button> -->
                                        </form>
                                    </div>
                                    <a href="#" class="title"><%= products[i].productName %></a>
                                    <div class="price mt-1">Price: â‚¹<%= products[i].realPrice %></div>
                                   

                                    <% if (products[i].categoryId) { %>
                                        <div class="price mt-1">Category: <%= products[i].categoryId.categoryName %></div>
                                    <% } else { %>
                                        <div class="price mt-1">Category: N/A</div>
                                    <% } %>
                                    <% if (products[i].is_active) { %>
                                        <div class="status mt-1 active" id="product-status">Status: Active</div>
                                    <% } else { %>
                                        <div class="status mt-1 inactive" id="product-status">Status: Inactive</div>
                                    <% } %>
                                    <div class="price mt-1">Created On: <%= new Date(products[i].date).toLocaleDateString() %></div>

                                    <div>
                                        <table class="styled-table">
                                            <tr>
                                                <th>Sizes</th>
                                                <% for (let j = 0; j < products[i].sizes.length; j++) { %>
                                                    <td><%= products[i].sizes[j].size %></td>
                                                <% } %>
                                            </tr>
                                            <tr>
                                                <th>Stock</th>
                                                <% for (let j = 0; j < products[i].sizes.length; j++) { %>
                                                    <td><%= products[i].sizes[j].quantity %></td>
                                                <% } %>
                                            </tr>
                                        </table>
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                    <% } %>
                <% } %>
            </div>
            
            <!-- <div class="content-header">
                <div> -->
                    <!-- <h2 class="content-title card-title">Products</h2> -->
                    <!-- <p></p>
                </div>
                <div> -->
                    <!-- <a href="#" class="btn btn-light rounded font-md">Export</a>
                    <a href="#" class="btn btn-light rounded  font-md">Import</a> -->
                    <!-- <a href="/admin/productAdd" class="btn btn-primary btn-sm rounded">Create new Product</a> -->
                <!-- </div>
            </div> -->
               <!-- row.// -->
            <!-- <div class="pagination-area mt-15 mb-50">
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-start">
                        <li class="page-item active"><a class="page-link" href="#">01</a></li>
                        <li class="page-item"><a class="page-link" href="#">02</a></li>
                        <li class="page-item"><a class="page-link" href="#">03</a></li>
                        <li class="page-item"><a class="page-link dot" href="#">...</a></li>
                        <li class="page-item"><a class="page-link" href="#">16</a></li>
                        <li class="page-item"><a class="page-link" href="#"><i class="material-icons md-chevron_right"></i></a></li>
                    </ul>
                </nav>
            </div> -->
        </section> <!-- content-main end// -->
      
    </main>

    <style>
        .btn-group .btn {
    margin-right: 5px; /* Adjust the space between buttons */
}

.btn-group .btn:last-child {
    margin-right: 0; /* Remove margin from the last button */
}




    </style>
    <script src="admin-assets/js/vendors/jquery-3.6.0.min.js"></script>
    <script src="admin-assets/js/vendors/bootstrap.bundle.min.js"></script>
    <script src="admin-assets/js/vendors/select2.min.js"></script>
    <script src="admin-assets/js/vendors/perfect-scrollbar.js"></script>
    <script src="admin-assets/js/vendors/jquery.fullscreen.min.js"></script>
    <!-- Main Script -->
    <script src="admin-assets/js/main.js" type="text/javascript"></script>



   
   

<style>
     .status {
        font-weight: bold;
    }
    .status.active {
        color: green;
    }
    .status.inactive {
        color: red;
    }
    .btn-active {
        background-color: green;
        border-color: green;
        color: white;
    }
    .btn-inactive {
        background-color: red;
        border-color: red;
        color: white;
    }
</style>

<style>
    .styled-table {
        border-collapse: collapse;
        width: 100%;
    }

    .styled-table th, .styled-table td {
        border: 1px solid rgb(234, 234, 234);
        padding: 8px;
        text-align: center;
    }

    .styled-table th {
        background-color: #ffffff;
    }
</style>

    
</body>



</html>